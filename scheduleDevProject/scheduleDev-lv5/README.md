# μΌμ • κ΄€λ¦¬ API

## β° κ°λ°κΈ°κ°„
- **2024.12.12 (λ©) - 2024.12.17 (ν™”)**

---

## π™π»β€β™€οΈ κ°λ°μ μ†κ°
- **κΉ€λ¦¬μ€**: μ¤νλ¥΄νƒ€ λ‚΄μΌλ°°μ›€μΊ ν”„ Spring 4κΈ° 12μ΅° ν€μ›

---

## π“– ν”„λ΅μ νΈ μ„¤λ…

μ΄ ν”„λ΅μ νΈλ” μΌμ • κ΄€λ¦¬ APIλ΅, μ‚¬μ©μκ°€ μΌμ •μ„ μƒμ„±, μ΅°ν, μμ • λ° μ‚­μ ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤. μΌμ •μ€ μ‚¬μ©μμ™€ μ—°λ™λμ–΄ μμΌλ©°, κ° μ‚¬μ©μλ” μ—¬λ¬ κ°μ μΌμ •μ„ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤. λν•, μ μ € μƒμ„±, μ΅°ν, μμ •, μ‚­μ μ™€ κ°™μ€ μ‚¬μ©μ κ΄€λ¦¬ κΈ°λ¥λ„ μ κ³µν•©λ‹λ‹¤.
λν•, λ΅κ·ΈμΈ μ‹ μ„Έμ… IDλ¥Ό μƒμ„±ν•μ—¬ μ΄λ¥Ό μ €μ¥μ†μ— κ΄€λ¦¬ν•κ³ , μ‚¬μ©μκ°€ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μΈμ¦λ μ‚¬μ©μλ§ μΌμ • λ° λ“κΈ€ κ΄€λ¦¬ κΈ°λ¥μ„ μ΄μ©ν•  μ μμΌλ©°, μ„Έμ…μ„ ν†µν•΄ μ‚¬μ©μ κ²½ν—μ„ λ³΄λ‹¤ μ•μ „ν•κ³  μ›ν™ν•κ² μ κ³µν•©λ‹λ‹¤.

---

## π μ£Όμ” κΈ°λ¥

### 1. μΌμ • κ΄€λ¦¬
- **μΌμ • μƒμ„±**: μ‚¬μ©μκ°€ μƒλ΅μ΄ μΌμ •μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.
- **μΌμ • μ΅°ν**: μ‚¬μ©μκ°€ λ“±λ΅ν• μΌμ •μ„ μ΅°νν•  μ μμµλ‹λ‹¤.
- **μΌμ • μμ •**: μ‚¬μ©μκ°€ κΈ°μ΅΄ μΌμ •μ„ μμ •ν•  μ μμµλ‹λ‹¤.
- **μΌμ • μ‚­μ **: μ‚¬μ©μκ°€ λ” μ΄μƒ ν•„μ” μ—†λ” μΌμ •μ„ μ‚­μ ν•  μ μμµλ‹λ‹¤.

### 2. μ‘μ„±μ κ΄€λ¦¬
- **μ μ € μƒμ„±**: μ‚¬μ©μκ°€ μƒλ΅μ΄ μ μ €λ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤.
- **μ μ € μ΅°ν**: νΉμ • μ μ €μ μ •λ³΄λ¥Ό μ΅°νν•  μ μμµλ‹λ‹¤.
- **μ μ € μμ •**: μ‚¬μ©μκ°€ κΈ°μ΅΄ μ μ € μ •λ³΄λ¥Ό μμ •ν•  μ μμµλ‹λ‹¤.
- **μ μ € μ‚­μ **: μ μ €λ¥Ό μ‚­μ ν•  μ μμµλ‹λ‹¤.

### 3. μ‚¬μ©μ κ΄€λ¦¬
- **νμ›κ°€μ…**: μ‚¬μ©μκ°€ μ΄λ©”μΌκ³Ό λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬ μƒ κ³„μ •μ„ λ§λ“¤ μ μμµλ‹λ‹¤. νμ›κ°€μ… μ‹ λΉ„λ°€λ²νΈλ” μ•”νΈν™”λμ–΄ μ €μ¥λ©λ‹λ‹¤.
- **λ΅κ·ΈμΈ**: μ‚¬μ©μκ°€ μ΄λ©”μΌκ³Ό λΉ„λ°€λ²νΈλ΅ λ΅κ·ΈμΈν•μ—¬ μΈμ¦μ„ λ°›μµλ‹λ‹¤.
- **λ΅κ·Έμ•„μ›ƒ**: μ‚¬μ©μκ°€ λ΅κ·ΈμΈλ μ„Έμ…μ„ μΆ…λ£ν•κ³  λ΅κ·Έμ•„μ›ƒν•  μ μμµλ‹λ‹¤.

### 4. μ„Έμ… κ΄€λ¦¬
- **μ„Έμ… μƒμ„±**: μ‚¬μ©μκ°€ λ΅κ·ΈμΈν•λ©΄ κ³ μ ν• μ„Έμ… IDκ°€ μƒμ„±λμ–΄, ν•΄λ‹Ή μ„Έμ… μ •λ³΄λ¥Ό μ„λ²„μ— μ €μ¥ν•©λ‹λ‹¤.
- **μ„Έμ… μ €μ¥**: μƒμ„±λ μ„Έμ… IDλ” μ‚¬μ©μμ™€ μ—°κ²°λμ–΄ μΈμ¦λ μƒνƒλ¥Ό μ μ§€ν•©λ‹λ‹¤.
- **μ„Έμ… κ²€μ¦**: μ‚¬μ©μκ°€ μ”μ²­μ„ λ³΄λ‚Ό λ•λ§λ‹¤, μ„λ²„λ” μ”μ²­ ν—¤λ”λ‚ μΏ ν‚¤μ—μ„ μ „λ‹¬λ μ„Έμ… IDλ¥Ό ν™•μΈν•μ—¬ μ„Έμ…μ μ ν¨μ„±μ„ κ²€μ¦ν•©λ‹λ‹¤.
- **μ„Έμ… μΆ…λ£**: μ‚¬μ©μκ°€ λ΅κ·Έμ•„μ›ƒν•  κ²½μ°, ν•΄λ‹Ή μ„Έμ…μ„ μ„λ²„μ—μ„ μ‚­μ ν•μ—¬ λ” μ΄μƒ μ ν¨ν•μ§€ μ•κ² λ§λ“­λ‹λ‹¤.

---

## μ ν¨μ„± κ²€μ‚¬ κ°μ”

μ΄ ν”„λ΅μ νΈλ” μ‚¬μ©μκ°€ μ „μ†΅ν• λ°μ΄ν„°μ— λ€ν•΄ μ ν¨μ„± κ²€μ‚¬λ¥Ό μν–‰ν•μ—¬ μλ»λ λ°μ΄ν„°λ¥Ό μ„λ²„μ—μ„ μ²λ¦¬ν•μ§€ μ•λ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤. `@Validated`μ™€ κ°™μ€ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ”μ²­ λ°μ΄ν„°κ°€ μ”κµ¬ μ‚¬ν•­μ„ μ¶©μ΅±ν•λ”μ§€ κ²€μ¦ν•λ©°, κ²€μ¦ μ‹¤ν¨ μ‹ μ μ ν• μ¤λ¥ λ©”μ‹μ§€λ¥Ό λ°ν™ν•©λ‹λ‹¤.

## DTOμ—μ„μ μ ν¨μ„± κ²€μ‚¬

κ° DTO ν΄λμ¤μ—λ” λ°μ΄ν„°μ μ ν¨μ„±μ„ ν™•μΈν•κΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ΄ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ‚¬μ©μ λ“±λ΅ μ”μ²­(`SignUpRequestDto`)μ—μ„λ” μ΄λ©”μΌκ³Ό λΉ„λ°€λ²νΈμ— λ€ν•΄ ν•„μ μ…λ ¥ λ° ν•μ‹ κ²€μ‚¬λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤. `@NotBlank`, `@Pattern`, `@Size` λ“±μ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ…λ ¥κ°’μ— λ€ν• μ΅°κ±΄μ„ λ…ν™•ν μ •μν•©λ‹λ‹¤.

**μμ‹:**

```java
@NotBlank(message = "μ΄λ©”μΌμ€ ν•„μμ…λ‹λ‹¤.")
@Pattern(regexp = "^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$", message = "μ¬λ°”λ¥Έ μ΄λ©”μΌ ν•μ‹μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.")
private String email;

@NotBlank(message = "λΉ„λ°€λ²νΈλ” ν•„μμ…λ‹λ‹¤.")
private String password;
```

---

## π“‘ API λ…μ„Έμ„

### μΌμ • κ΄€λ ¨ API

| κΈ°λ¥           | Method | URL                      | Request           | Response           | μƒνƒμ½”λ“       |
|----------------|--------|--------------------------|-------------------|--------------------|----------------|
| μΌμ • λ“±λ΅      | POST   | /schedules               | μ”μ²­ λ³Έλ¬Έ          | λ“±λ΅λ μΌμ • μ •λ³΄     | 201: μ •μƒ λ“±λ΅  |
| μΌμ • μ΅°ν      | GET    | /schedules/{scheduleId}  | μ”μ²­ νλΌλ―Έν„°       | λ‹¨κ±΄ μ‘λ‹µ μ •λ³΄ (μΌμ •) | 200: μ •μƒ μ΅°ν  |
| μΌμ • λ©λ΅ μ΅°ν | GET    | /schedules               | μ”μ²­ νλΌλ―Έν„°       | μΌμ • λ©λ΅ (λ°°μ—΄)      | 200: μ •μƒ μ΅°ν  |
| μΌμ • μμ •      | PUT    | /schedules/{scheduleId}  | μ”μ²­ λ³Έλ¬Έ          | μμ •λ μΌμ • μ •λ³΄     | 200: μ •μƒ μμ •  |
| μΌμ • μ‚­μ       | DELETE | /schedules/{scheduleId}  | μ”μ²­ νλΌλ―Έν„°       | -                  | 200: μ •μƒ μ‚­μ   |

### μ μ € κ΄€λ ¨ API

| κΈ°λ¥           | Method | URL                      | Request           | Response           | μƒνƒμ½”λ“       |
|----------------|--------|--------------------------|-------------------|--------------------|----------------|
| μ μ € μƒμ„±      | POST   | /users                   | μ”μ²­ λ³Έλ¬Έ          | μƒμ„±λ μ μ € μ •λ³΄    | 201: μ •μƒ μƒμ„±  |
| μ μ € μ΅°ν      | GET    | /users/{userId}          | μ”μ²­ νλΌλ―Έν„°       | λ‹¨κ±΄ μ‘λ‹µ μ •λ³΄ (μ μ €) | 200: μ •μƒ μ΅°ν  |
| μ μ € μμ •      | PUT    | /users/{userId}          | μ”μ²­ λ³Έλ¬Έ          | μμ •λ μ μ € μ •λ³΄    | 200: μ •μƒ μμ •  |
| μ μ € μ‚­μ       | DELETE | /users/{userId}          | μ”μ²­ νλΌλ―Έν„°       | -                  | 200: μ •μƒ μ‚­μ   |

---

## π§© μ—”ν„°ν‹°-κ΄€κ³„ λ‹¤μ΄μ–΄κ·Έλ¨ (ERD)

### Schedule μ—”ν„°ν‹°

| μ†μ„±λ…       | νƒ€μ…             | μ μ•½ μ΅°κ±΄       | μ„¤λ…              |
|--------------|------------------|----------------|-------------------|
| `id`         | Long (PK)        | μλ™ μƒμ„±       | κΈ°λ³Έ ν‚¤ (ID)       |
| `title`      | String           | Not Null       | ν•  μΌ μ λ©        |
| `contents`   | String (longtext)| Nullable       | ν•  μΌ λ‚΄μ©        |
| `createdAt`  | Timestamp        | μλ™ μƒμ„±       | μƒμ„± μ‹κ°         |
| `modifiedAt` | Timestamp        | μλ™ μ—…λ°μ΄νΈ   | λ§μ§€λ§‰ μμ • μ‹κ°   |
| `userId`     | Long (FK)        | Not Null       | μ‚¬μ©μ ID         |

### User μ—”ν„°ν‹°

| μ†μ„±λ…       | νƒ€μ…             | μ μ•½ μ΅°κ±΄       | μ„¤λ…              |
|--------------|------------------|----------------|-------------------|
| `id`         | Long (PK)        | μλ™ μƒμ„±       | κΈ°λ³Έ ν‚¤ (ID)       |
| `username`   | String           | Not Null       | μ‚¬μ©μ μ΄λ¦„       |
| `email`      | String           | Not Null       | μ΄λ©”μΌ            |
| `createdAt`  | Timestamp        | μλ™ μƒμ„±       | μƒμ„± μ‹κ°         |

### κ΄€κ³„
- `Schedule` μ—”ν„°ν‹°λ” `User`μ™€ **λ‹¤λ€μΌ (Many-to-One)** κ΄€κ³„λ΅ μ—°κ²°λ©λ‹λ‹¤. μ¦‰, μ—¬λ¬ μΌμ •μ΄ ν•λ‚μ μ‚¬μ©μμ— μ†ν•  μ μμµλ‹λ‹¤.

---

## π€ Schedule API μ—”λ“ν¬μΈνΈ

### 1. μΌμ • λ“±λ΅

- **HTTP λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/schedules?userId={userId}`
- **μ”μ²­ λ³Έλ¬Έ**:
    ```json
    {
        "title": "μΌμ • μ λ©",
        "contents": "μΌμ • λ‚΄μ©"
    }
    ```
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "id": "Long",
        "title": "String",
        "contents": "String",
        "userId": "Long",
        "createdAt": "Timestamp",
        "modifiedAt": "Timestamp"
    }
    ```
- **μƒνƒ μ½”λ“**: `201 Created`

---

### 2. μΌμ • μ΅°ν (λ‹¨κ±΄)

- **HTTP λ©”μ„λ“**: `GET`
- **κ²½λ΅**: `/schedules/{scheduleId}?userId={userId}`
- **μ”μ²­ νλΌλ―Έν„°**:
  - `scheduleId` (κ²½λ΅ λ³€μ)
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "id": "Long",
        "title": "String",
        "contents": "String",
        "userId": "Long",
        "createdAt": "Timestamp",
        "modifiedAt": "Timestamp"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 3. μΌμ • λ©λ΅ μ΅°ν (ν•  μΌ μ „μ²΄ μ΅°ν)

- **HTTP λ©”μ„λ“**: `GET`
- **κ²½λ΅**: `/schedules?userId={userId}`
- **μ”μ²­ νλΌλ―Έν„°**: μ—†μ
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    [
        {
            "id": "Long",
            "title": "String",
            "contents": "String",
            "userId": "Long",
            "createdAt": "Timestamp",
            "modifiedAt": "Timestamp"
        },
        ...
    ]
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 4. μΌμ • μμ •

- **HTTP λ©”μ„λ“**: `PUT`
- **κ²½λ΅**: `/schedules/{scheduleId}?userId={userId}`
- **μ”μ²­ λ³Έλ¬Έ**:
    ```json
    {
        "title": "μμ •λ μΌμ • μ λ©",
        "contents": "μμ •λ μΌμ • λ‚΄μ©"
    }
    ```
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "id": "Long",
        "title": "String",
        "contents": "String",
        "userId": "Long",
        "createdAt": "Timestamp",
        "modifiedAt": "Timestamp"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 5. μΌμ • μ‚­μ 

- **HTTP λ©”μ„λ“**: `DELETE`
- **κ²½λ΅**: `/schedules/{scheduleId}?userId={userId}`
- **μ”μ²­ νλΌλ―Έν„°**:
  - `scheduleId` (κ²½λ΅ λ³€μ)
- **μ‘λ‹µ λ³Έλ¬Έ**: μ—†μ
- **μƒνƒ μ½”λ“**: `200 OK`

---

## π€ User API μ—”λ“ν¬μΈνΈ

### 1. μ μ € μƒμ„±

- **HTTP λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/users`
- **μ”μ²­ λ³Έλ¬Έ**:
    ```json
    {
        "username": "μ‚¬μ©μ μ΄λ¦„",
        "email": "μ‚¬μ©μ μ΄λ©”μΌ"
    }
    ```
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "createdAt": "Timestamp",
        "id": "Long",
        "username": "String",
        "email": "String"
    }
    ```
- **μƒνƒ μ½”λ“**: `201 Created`

---

### 2. μ μ € μ΅°ν (λ‹¨κ±΄)

- **HTTP λ©”μ„λ“**: `GET`
- **κ²½λ΅**: `/users/{userId}`
- **μ”μ²­ νλΌλ―Έν„°**:
  - `userId` (κ²½λ΅ λ³€μ)
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "createdAt": "Timestamp",
        "id": "Long",
        "username": "String",
        "email": "String"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 3. μ μ € μμ •

- **HTTP λ©”μ„λ“**: `PUT`
- **κ²½λ΅**: `/users/{userId}`
- **μ”μ²­ λ³Έλ¬Έ**:
    ```json
    {
        "username": "μƒλ΅μ΄ μ‚¬μ©μ μ΄λ¦„",
        "email": "μƒλ΅μ΄ μ‚¬μ©μ μ΄λ©”μΌ"
    }
    ```
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "createdAt": "Timestamp",
        "id": "Long",
        "username": "String",
        "email": "String"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 4. μ μ € μ‚­μ 

- **HTTP λ©”μ„λ“**: `DELETE`
- **κ²½λ΅**: `/users/{userId}`
- **μ”μ²­ νλΌλ―Έν„°**:
  - `userId` (κ²½λ΅ λ³€μ)
- **μ‘λ‹µ λ³Έλ¬Έ**: μ—†μ
- **μƒνƒ μ½”λ“**: `200 OK`

---

## π€ λ΅κ·ΈμΈ λ° λ΅κ·Έμ•„μ›ƒ API

### 1. λ΅κ·ΈμΈ

- **HTTP λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/login`
- **μ”μ²­ λ³Έλ¬Έ**:
    ```json
    {
        "email": "μ‚¬μ©μ μ΄λ©”μΌ",
        "password": "μ‚¬μ©μ λΉ„λ°€λ²νΈ"
    }
    ```
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "message": "Login successful"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`

---

### 2. λ΅κ·Έμ•„μ›ƒ

- **HTTP λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/logout`
- **μ”μ²­ λ³Έλ¬Έ**: μ—†μ
- **μ‘λ‹µ λ³Έλ¬Έ**:
    ```json
    {
        "message": "Logout successful"
    }
    ```
- **μƒνƒ μ½”λ“**: `200 OK`
---